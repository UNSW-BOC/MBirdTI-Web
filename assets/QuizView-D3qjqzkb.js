import{d as k,c as r,b as e,e as y,f as L,o as u,_ as q,r as ee,g as j,h as te,t as C,u as ae,i as f,n as T,F as I,j as P,k as ne,l as s,a as se,w as le}from"./index-BGb3FlPm.js";import{u as oe}from"./app-BODkzztJ.js";import{L as ie}from"./LanguageSwitch-fSDSURuc.js";const re="data:image/svg+xml,%3csvg%20width='24'%20height='16'%20viewBox='0%200%2024%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.5636%201.06978C15.4217%201.1484%2015.2798%201.22702%2015.1335%201.30802C13.1895%202.46959%2011.4033%204.00668%209.73523%205.59153C9.34273%205.96184%208.94228%206.31612%208.53636%206.66861C7.73171%207.38236%206.98081%208.15347%206.23022%208.93336C5.75165%209.43021%205.26874%209.91743%204.76989%2010.39C4.35023%2010.7876%203.95075%2011.1964%203.56364%2011.6321C3.15324%2012.0872%202.73622%2012.5185%202.29091%2012.9326C1.80457%2013.3879%201.41934%2013.8671%201.01818%2014.4117C0.889183%2014.5493%200.760183%2014.6869%200.627274%2014.8286C0.328794%2015.1634%200.159491%2015.4137%200%2015.8412C0.227274%2015.9603%200.227274%2015.9603%200.58182%2016C0.811495%2015.8582%201.04035%2015.7147%201.26477%2015.5632C3.06265%2014.4984%205.01537%2014.2074%207.02898%2014.2094C7.37112%2014.2062%207.71326%2014.2029%208.0554%2014.1995C8.58607%2014.1959%209.11672%2014.1933%209.64741%2014.1924C12.7495%2014.1832%2015.9763%2014.0407%2018.3659%2011.5428C19.7227%209.88764%2020.4165%208.099%2020.8182%205.94394C20.8871%205.58029%2020.9571%205.21691%2021.0284%204.85383C21.0581%204.69509%2021.0877%204.53635%2021.1183%204.3728C21.2461%203.89229%2021.4061%203.54093%2021.6727%203.13459C22.413%202.69811%2023.1779%202.51347%2024%202.34043C23.7271%201.44646%2022.8674%201.1003%2022.1403%200.672696C19.9479%20-0.414658%2017.6453%20-0.113001%2015.5636%201.06978Z'%20fill='%23766630'/%3e%3cpath%20d='M20.3638%201.38745C20.1238%201.43987%2019.8838%201.49228%2019.6366%201.54628C19.6846%201.75594%2019.7326%201.9656%2019.782%202.18161C20.022%202.1292%2020.262%202.07678%2020.5093%202.02278C20.4613%201.81312%2020.4133%201.60346%2020.3638%201.38745Z'%20fill='%23D3CFCC'/%3e%3c/svg%3e",ue="/MBirdTI-Web/assets/city-Dbr_x956.png",de="/MBirdTI-Web/assets/forest-CieQ8Ro5.png",ce="/MBirdTI-Web/assets/grassland-M5wS3f_p.png",pe="/MBirdTI-Web/assets/wetland-BemptjRG.png",v=[{id:"q1",titleCn:"哎呀！你突然变成了一只鸟！你决定前往：",titleEn:"Oops! You suddenly turned into a bird. Where would you go?",titleKey:"quiz.q1.title",options:[{type:"image",image:de,labelCn:"枝叶茂密的大树、林下光影、层层树冠",labelEn:"A dense forest with layered tree canopies",key:"quiz.q1.options.0",value:{S:-1}},{type:"image",image:ce,labelCn:"草原、稀疏树木、远处地平线",labelEn:"Open grassland with scattered trees and a wide horizon",key:"quiz.q1.options.1",value:{P:-1}},{type:"image",image:pe,labelCn:"海岸、红树林、湿地、浅水滩",labelEn:"Coastlines, mangroves, wetlands, and shallow water",key:"quiz.q1.options.2",value:{F:-1}},{type:"image",image:ue,labelCn:"建筑、路灯、栏杆、电线",labelEn:"Buildings, streetlights, railings, and power lines",key:"quiz.q1.options.3",value:{E:1}}]},{id:"q2",titleCn:"呼！安全降落。接下来你准备：",titleEn:"Nice landing! What to do next?",titleKey:"quiz.q2.title",options:[{type:"text",labelCn:"结识新的好朋鸟，迅速融入鸟群中。",labelEn:"Fly over and join a flock — instant bird friends!",key:"quiz.q2.options.0",value:{E:4,J:1}},{type:"text",labelCn:"和附近的小鸟打个招呼，慢慢熟悉周围。",labelEn:"Take it slow, give a few chirps to the birds nearby.",key:"quiz.q2.options.1",value:{E:2,F:-1}},{type:"text",labelCn:"安静地站着，不太受其他鸟影响。",labelEn:"Stay quiet and keep to yourself, just watching around.",key:"quiz.q2.options.2",value:{I:-2,J:1}},{type:"text",labelCn:"在高处独自享受一会儿微风。",labelEn:"Perch high up and enjoy the breeze on your own.",key:"quiz.q2.options.3",value:{I:-4,F:-1}}]},{id:"q3",titleCn:"哇！今天是个好天气，你这样放松自己：",titleEn:"Good day, mate! Time to relax. You:",titleKey:"quiz.q3.title",options:[{type:"text",labelCn:"在人类头顶拉屎，以此惩恶扬善。",labelEn:"Poop on humans below — bird justice is served.",key:"quiz.q3.options.0",value:{N:4,E:1}},{type:"text",labelCn:"去码头整点薯条，边吃边思考鸟生真谛。",labelEn:"Grab some fries at the pier and think about bird stuff.",key:"quiz.q3.options.1",value:{N:2,T:1}},{type:"text",labelCn:"在草地上啄叶子玩，在枝头蹦来蹦去。",labelEn:"Hop hop hop, peck peck peck — just messing around.",key:"quiz.q3.options.2",value:{S:-2,F:-1}},{type:"text",labelCn:"仔细啃好爪爪，精心梳理羽毛。",labelEn:"Settle down, preen your feathers, and fully recharge.",key:"quiz.q3.options.3",value:{S:-4,I:-1}}]},{id:"q4",titleCn:"啊哦！你的视野里远远地出现了一只人类！你：",titleEn:"Uh-oh! A human appears far away in your view. You:",titleKey:"quiz.q4.title",options:[{type:"text",labelCn:"眉头一皱，决定立刻飞走。",labelEn:"Hmmm… Nope, gotta hide.",key:"quiz.q4.options.0",value:{J:3,I:-1}},{type:"text",labelCn:"拉长耳朵提高警觉，神经细胞全面戒备！",labelEn:"Enemy spotted! Eyes peeled, stay sharp.",key:"quiz.q4.options.1",value:{J:2}},{type:"text",labelCn:"发生甚么事了？敌不动我不动。",labelEn:"Not sure. Let me see…",key:"quiz.q4.options.2",value:{P:-2,T:1}},{type:"text",labelCn:"不确定，看一眼？再看一眼。",labelEn:"Detective mode on. Peek, Peek again!",key:"quiz.q4.options.3",value:{P:-3,E:1}}]},{id:"q5",titleCn:"呼！笨笨人类没有发现你，你松了一口气：",titleEn:"Phew! The human didn’t notice you and walked away. You:",titleKey:"quiz.q5.title",options:[{type:"text",labelCn:"梳理前因后果，原来人是这样的动物。",labelEn:"Go over the moment in your head — Ah, humans are like that.",key:"quiz.q5.options.0",value:{T:4,N:1}},{type:"text",labelCn:"看来刚刚的策略很好，下次还这么干。",labelEn:"Feel satisfied. That move worked! Keep it for next time.",key:"quiz.q5.options.1",value:{T:2,S:-1}},{type:"text",labelCn:"慢慢舒展羽毛，享受安全的环境。",labelEn:"Loosen up, stretch, and soak in the peaceful air.",key:"quiz.q5.options.2",value:{F:-2,S:-1}},{type:"text",labelCn:"一展歌喉，机智如我～",labelEn:"Start singing — what a clever bird you are!",key:"quiz.q5.options.3",value:{F:-4,N:1}}]}],ve={class:"step"},he=["disabled"],be=["disabled"],ye=k({__name:"StepButton",props:{variant:{default:"default"},prevDisabled:{type:Boolean,default:!1},nextDisabled:{type:Boolean,default:!1},showNext:{type:Boolean,default:!0}},emits:["prev","next"],setup(h,{emit:b}){const l=h,p=b,a=()=>p("prev"),c=()=>p("next");return(x,d)=>(u(),r("div",ve,[e("button",{class:y(["circle prev",`is-${l.variant}`]),type:"button",disabled:l.variant==="disabled"||l.prevDisabled,onClick:a,"aria-label":"Previous"},[...d[0]||(d[0]=[e("span",{class:"icon left","aria-hidden":"true"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M13 5l7 7-7 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M20 12H4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])],-1)])],10,he),h.showNext?(u(),r("button",{key:0,class:y(["circle next",`is-${l.variant}`]),type:"button",disabled:l.variant==="disabled"||l.nextDisabled,onClick:c,"aria-label":"Next"},[...d[1]||(d[1]=[e("span",{class:"icon","aria-hidden":"true"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M13 5l7 7-7 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M20 12H4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})])],-1)])],10,be)):L("",!0)]))}}),me=q(ye,[["__scopeId","data-v-3c1215e6"]]),ge=["disabled"],Ce={class:"btn-text"},fe=k({__name:"OptionButtion",props:{disabled:{type:Boolean}},setup(h){return(b,l)=>(u(),r("button",{class:"btn-option",disabled:h.disabled},[e("span",Ce,[ee(b.$slots,"default",{},()=>[l[0]||(l[0]=j("Text",-1))])])],8,ge))}}),ke=q(fe,[["__scopeId","data-v-2bb34687"]]),qe={class:"screen"},xe={class:"navbar"},_e=["disabled"],we={class:"nav-center"},Ee={class:"counter"},ze={class:"right-actions"},Me={class:"progress"},Se=["innerHTML"],Be={key:0,class:"options-image"},Ne=["onClick"],Te=["src","alt"],Ie={class:"card-label"},Pe={key:1,class:"options-text"},Fe={key:2,class:"step-nav"},F=334,Le=k({__name:"QuizView",setup(h){const b=se(),l=oe(),p=s(()=>l.language==="zh"),a=ne(0),c=te(Array(v.length).fill(-1)),x={id:"fallback",titleCn:"",titleEn:"",options:[]},d=s(()=>v[a.value]??x),m=s(()=>a.value===0),$=s(()=>a.value===v.length-1),_=s(()=>c[a.value]!==-1),D=s(()=>((p.value?d.value.titleCn:d.value.titleEn)||"").replace(/\n/g,"<br/>")),J=s(()=>d.value.options.some(n=>n.type==="image")?"imageGrid":"textList");function w(t){c[a.value]=t,W()}function E(){m.value||(a.value--,c[a.value]=-1)}function W(){if(_.value){if($.value){O();return}a.value++}}function O(){const t={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};c.forEach((S,U)=>{if(S===-1)return;const B=v[U];if(!B)return;const N=B.options?.[S];N?.value&&Object.entries(N.value).forEach(([Z,X])=>{t[Z]+=X})});const n=t.E+t.I,o=t.N+t.S,i=t.T+t.F,g=t.J+t.P,H=[n>=0?"E":"I",o>=0?"N":"S",i>=0?"T":"F",g>=0?"J":"P"].join(""),K=Math.min(100,Math.max(0,Math.round(50+n/8*50))),Q=Math.min(100,Math.max(0,Math.round(50+o/8*50))),Y=Math.min(100,Math.max(0,Math.round(50+i/8*50))),R=Math.min(100,Math.max(0,Math.round(50+g/6*50)));b.push({path:"/loading",query:{type:H,pIE:K,pSN:Q,pTF:Y,pJP:R}})}const z=s(()=>m.value),V=s(()=>!_.value),A=s(()=>z.value&&V.value?"disabled":"default"),M=s(()=>{const t=(a.value+1)/v.length;return Math.max(8,Math.round(F*t))}),G=s(()=>{const n=28+M.value-12;return Math.min(28+F-12,Math.max(16,n))});return(t,n)=>(u(),r("div",qe,[e("div",xe,[e("button",{class:"icon-btn",disabled:m.value,onClick:E,"aria-label":"back"},[...n[0]||(n[0]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M15 18L9 12L15 6",stroke:"#766630","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,_e),e("div",we,[e("div",Ee,C(a.value+1)+" of "+C(ae(v).length),1)]),e("div",ze,[f(ie,{class:"mini-lang-switch"})])]),e("div",Me,[n[2]||(n[2]=e("div",{class:"progress-bg"},null,-1)),e("div",{class:"progress-fg",style:T({width:M.value+"px"})},null,4),e("div",{class:"bird-marker",style:T({left:G.value+"px"})},[...n[1]||(n[1]=[e("img",{src:re,alt:"bird"},null,-1)])],4)]),e("div",{class:"title",innerHTML:D.value},null,8,Se),J.value==="imageGrid"?(u(),r("div",Be,[(u(!0),r(I,null,P(d.value.options,(o,i)=>(u(),r("button",{key:i,class:y(["card-image",{selected:c[a.value]===i}]),onClick:g=>w(i)},[e("img",{class:"card-img",src:o.image,alt:p.value?o.labelCn:o.labelEn},null,8,Te),e("div",Ie,C(p.value?o.labelCn:o.labelEn),1)],10,Ne))),128))])):(u(),r("div",Pe,[(u(!0),r(I,null,P(d.value.options,(o,i)=>(u(),r("div",{key:i,class:y(["option-wrapper",{selected:c[a.value]===i}])},[f(ke,{onClick:g=>w(i),class:y({active:c[a.value]===i})},{default:le(()=>[j(C(p.value?o.labelCn:o.labelEn),1)]),_:2},1032,["onClick","class"])],2))),128))])),m.value?L("",!0):(u(),r("div",Fe,[f(me,{variant:A.value,"prev-disabled":z.value,"next-disabled":!0,"show-next":!1,onPrev:E},null,8,["variant","prev-disabled"])])),n[3]||(n[3]=e("div",{class:"footer"},"UNSW Student Life x UNSW BOC",-1))]))}}),Je=q(Le,[["__scopeId","data-v-aa8aa89a"]]);export{Je as default};
